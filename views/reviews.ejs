<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title><%= title %></title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
			rel="stylesheet"
		/>
	</head>
	<body>
		<%- include('partials/navbar') %> <%- include('partials/flash-messages') %>

		<div class="container mt-4">
			<div class="row">
				<div class="col-12">
					<div class="d-flex justify-content-between align-items-center mb-4">
						<h1><i class="bi bi-chat-dots"></i> Reviews</h1>
						<% if (user) { %>
						<button class="btn btn-primary">
							<i class="bi bi-plus-circle"></i> Write Review
						</button>
						<% } %>
					</div>

					<!-- Filter Options -->
					<div class="row mb-4">
						<div class="col-md-4">
							<select class="form-select">
								<option>All Ratings</option>
								<option>5 Stars</option>
								<option>4 Stars</option>
								<option>3 Stars</option>
								<option>2 Stars</option>
								<option>1 Star</option>
							</select>
						</div>
						<div class="col-md-4">
							<select class="form-select">
								<option>All Stalls</option>
								<option>Ah Liang Chicken Rice</option>
								<option>Uncle Lim Laksa</option>
								<option>Hill Street Fried Kway Teow</option>
							</select>
						</div>
						<div class="col-md-4">
							<select class="form-select">
								<option>Most Recent</option>
								<option>Oldest First</option>
								<option>Highest Rated</option>
								<option>Lowest Rated</option>
							</select>
						</div>
					</div>

					<!-- Reviews List -->
					<div class="row">
						<div class="col-12">
							<!-- Sample Review -->
							<div class="card mb-3">
								<div class="card-body">
									<div class="row">
										<div class="col-md-8">
											<div
												class="d-flex justify-content-between align-items-start mb-2"
											>
												<div>
													<h5 class="mb-1">Ah Liang Chicken Rice</h5>
													<small class="text-muted">Maxwell Food Centre</small>
												</div>
												<div class="text-end">
													<div class="text-warning mb-1">
														<i class="bi bi-star-fill"></i>
														<i class="bi bi-star-fill"></i>
														<i class="bi bi-star-fill"></i>
														<i class="bi bi-star-fill"></i>
														<i class="bi bi-star"></i>
													</div>
													<small class="text-muted"
														>by johndoe • 2 days ago</small
													>
												</div>
											</div>
											<p class="card-text">
												"Absolutely fantastic chicken rice! The chicken was
												incredibly tender and flavorful, and the rice had the
												perfect texture. The chili sauce is a must-try - it has
												just the right amount of heat. Definitely coming back!"
											</p>
										</div>
										<div class="col-md-4 text-center">
											<div
												class="bg-light rounded d-flex align-items-center justify-content-center"
												style="height: 120px"
											>
												<i
													class="bi bi-image text-muted"
													style="font-size: 2rem"
												></i>
											</div>
										</div>
									</div>
								</div>
							</div>

							<!-- Sample Review -->
							<div class="card mb-3">
								<div class="card-body">
									<div class="row">
										<div class="col-md-8">
											<div
												class="d-flex justify-content-between align-items-start mb-2"
											>
												<div>
													<h5 class="mb-1">Uncle Lim Laksa</h5>
													<small class="text-muted">Newton Food Centre</small>
												</div>
												<div class="text-end">
													<div class="text-warning mb-1">
														<i class="bi bi-star-fill"></i>
														<i class="bi bi-star-fill"></i>
														<i class="bi bi-star-fill"></i>
														<i class="bi bi-star-fill"></i>
														<i class="bi bi-star-fill"></i>
													</div>
													<small class="text-muted"
														>by foodlover • 1 week ago</small
													>
												</div>
											</div>
											<p class="card-text">
												"Best laksa I've ever had! Rich, creamy broth with the
												perfect balance of spices. The prawns were fresh and the
												cockles added great texture. Worth the queue!"
											</p>
										</div>
										<div class="col-md-4 text-center">
											<div
												class="bg-light rounded d-flex align-items-center justify-content-center"
												style="height: 120px"
											>
												<i
													class="bi bi-image text-muted"
													style="font-size: 2rem"
												></i>
											</div>
										</div>
									</div>
								</div>
							</div>

							<!-- Empty state -->
							<% if (reviews.length === 0) { %>
							<div class="text-center py-5">
								<i
									class="bi bi-chat-dots text-muted"
									style="font-size: 4rem"
								></i>
								<h4 class="mt-3 text-muted">No reviews yet</h4>
								<p class="text-muted">
									Be the first to share your hawker experience!
								</p>
								<% if (user) { %>
								<button class="btn btn-primary">Write First Review</button>
								<% } else { %>
								<a href="/login" class="btn btn-primary"
									>Login to Write Review</a
								>
								<% } %>
							</div>
							<% } %>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	</body>
</html>
